<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drone Control Interface</title>
    <link rel="stylesheet" href="static/webStyles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
</head>
<body>
    <div class="dashboard">
        <header class="header">
            <h1>Drone Control Dashboard</h1>
            <div class="connection-status" id="connectionStatus">Connecting...</div>
        </header>

        <div class="grid-container">
            <div class="card video-feed">
                <div class="card-header">
                    <h2 class="card-title">Live Feed</h2>
                    <button class="btn" id="toggleVideo">Start Video</button>
                </div>
                <img id="video_feed" src="" alt="Drone Video Feed">
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Flight Controls</h2>
                </div>
                <div class="controls">
                    <button class="btn" onclick="sendCommand('takeoff')">Take Off</button>
                    <button class="btn danger" onclick="sendCommand('land')">Land</button>
                    <button class="btn" onclick="sendMoveCommand('move_up', 50)">Up</button>
                    <button class="btn" onclick="sendMoveCommand('move_forward', 50)">Forward</button>
                    <button class="btn" onclick="sendMoveCommand('move_left', 50)">Left</button>
                    <button class="btn" onclick="sendMoveCommand('move_right', 50)">Right</button>
                    <button class="btn" onclick="sendMoveCommand('move_back', 50)">Back</button>
                    <button class="btn" onclick="sendMoveCommand('move_down', 50)">Down</button>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Status</h2>
                    <button class="btn" onclick="fetchStatus()">Refresh</button>
                </div>
                <div class="status-grid">
                    <div class="status-item">
                        <span class="status-label">Battery</span>
                        <span class="status-value" id="battery">--</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Height</span>
                        <span class="status-value" id="height">--</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Temperature</span>
                        <span class="status-value" id="temperature">--</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Flight Time</span>
                        <span class="status-value" id="flight_time">--</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">Flying Status</span>
                        <span class="status-value" id="is_flying">--</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">WiFi Strength</span>
                        <span class="status-value" id="wifi_strength">--</span>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">System Logs</h2>
                </div>
                <div class="logs" id="logContainer"></div>
            </div>
        </div>
    </div>

    <script src="../static/scripts.js"></script>
</body>
</html>
